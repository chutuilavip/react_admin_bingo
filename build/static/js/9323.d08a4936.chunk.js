"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9323],{19323:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(74165),r=n(15861),s=n(70885),i=n(72791),c=n(74569),l=n.n(c),o=n(56127),u=n(77106),d=n(78983),p=n(96048),h=n.n(p),x=n(9085),f=n(57689),m=n(80184),g=localStorage.getItem("token_key"),j=(new FormData,new FormData),v=function(){var e,t,n,c,p,v,b,y,w,k=(0,i.useState)([]),C=(0,s.Z)(k,2),Z=C[0],N=C[1],S=(0,i.useState)(0),_=(0,s.Z)(S,2),A=_[0],T=_[1],L=(0,i.useState)(),B=(0,s.Z)(L,2),D=B[0],z=B[1],M=(0,i.useState)(!1),O=(0,s.Z)(M,2),P=O[0],I=O[1],V=(0,i.useState)(!1),F=(0,s.Z)(V,2),G=F[0],H=F[1],K=(0,i.useState)(""),R=(0,s.Z)(K,2),U=R[0],Y=R[1],q=(0,i.useState)(null),E=(0,s.Z)(q,2),W=E[0],X=E[1],J=(0,i.useState)(1),Q=(0,s.Z)(J,2),$=(Q[0],Q[1]),ee=(0,i.useState)({}),te=(0,s.Z)(ee,2),ne=te[0],ae=te[1],re=(0,i.useState)([]),se=(0,s.Z)(re,2),ie=se[0],ce=se[1],le=(0,i.useState)(""),oe=(0,s.Z)(le,2),ue=oe[0],de=oe[1],pe=((0,f.s0)(),function(e){Y(e.target.value)}),he=function(e){X(e.target.files[0])};function xe(){return fe.apply(this,arguments)}function fe(){return fe=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce();case 2:t=e.sent,n=t.data.res.total,T(Math.ceil(n/5)),N(t);case 6:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}(0,i.useEffect)((function(){xe()}),[5]);var me=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"Get",url:"".concat("https://api.staging.bingo.family","/api/banner?page=").concat(t,"&limit=").concat(5),headers:{Authorization:"Bearer ".concat(g)}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("err");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(t.selected),n=t.selected+1,e.next=4,me(n);case 4:r=e.sent,N(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){var t={};return""===U&&(t.title="Title is requied!"),ae(t),!(Object.keys(t).length>0)},ve=function(e){je()},be=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=je(),r=new FormData,!n){e.next=12;break}return r.append("title",U),r.append("image",W),r.append("status",1),e.next=8,l()({method:"POST",url:"".concat("https://api.staging.bingo.family","/api/banner/add"),data:r,headers:{Authorization:"Bearer ".concat(g),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),200===e.data.code&&(I(!P),x.Am.success("Add success!"),Y(null),X(null)),""!==e.data.errors?e.data.errors.map((function(e,t){return x.Am.error(e)})):""!==e.data.message&&x.Am.error(e.data.message)})).catch((function(e){console.log(e)}));case 8:return e.next=10,me(D+1);case 10:s=e.sent,N(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"Get",url:"".concat("https://api.staging.bingo.family","/api/banner/").concat(t),headers:{Authorization:"Bearer ".concat(g)}});case 3:return n=e.sent,e.abrupt("return",n.data.res.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("err");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:n=e.sent,ce(n),Y(n.title),X(n.image),$(n.status),H(!P);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.append("title",U),j.append("image",W),j.append("status",1),e.next=5,l()({method:"Post",url:"".concat("https://api.staging.bingo.family","/api/banner/update/").concat(t),data:j,headers:{Authorization:"Bearer ".concat(g),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 5:return e.next=7,me(D+1);case 7:n=e.sent,N(n),H(P);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"Get",url:"".concat("https://api.staging.bingo.family","/api/banner?page=1&limit=").concat(5),headers:{Authorization:"Bearer ".concat(g)},params:{status:ue}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("err");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l()({method:"Post",url:"".concat("https://api.staging.bingo.family","/api/banner/delete/").concat(t),headers:{Authorization:"Bearer ".concat(g),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.next=3,me(D+1);case 3:n=e.sent,N(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsxs)(d.u5,{onClick:function(){I(!P)},className:"d-flex align-items-center justify-content-center py-0 mb-4 btn_add",children:[(0,m.jsx)("span",{className:"fs-3 pb-1 pe-2",children:"+"})," Add"]}),(0,m.jsxs)(d.Tk,{className:"modal_add",visible:P,onClose:function(){return I(!1)},children:[(0,m.jsx)(d.p0,{children:(0,m.jsx)(d.fl,{children:"Modal title"})}),(0,m.jsxs)(d.sD,{children:[(0,m.jsx)(d.b7,{xs:12,children:(0,m.jsx)(d.jO,{label:"Title",placeholder:"",onChange:pe,defaultValue:U,name:"title",onKeyUp:ve,type:"text"})}),ne.title&&(0,m.jsx)("p",{className:"text-danger",children:ne.title}),(0,m.jsx)(d.b7,{xs:12,children:(0,m.jsx)(d.jO,{label:"Image",placeholder:"",onChange:he,name:"image",type:"file"})})]}),(0,m.jsxs)(d.Ym,{children:[(0,m.jsx)(d.u5,{color:"secondary",onClick:function(){return I(!1)},children:"Close"}),(0,m.jsx)(d.u5,{color:"primary",onClick:function(){return be()},children:"Save"})]})]}),(0,m.jsxs)(d.Tk,{className:"modal_edit",visible:G,onClose:function(){return H(!1)},children:[(0,m.jsx)(d.p0,{children:(0,m.jsx)(d.fl,{children:"Modal title"})}),(0,m.jsxs)(d.sD,{children:[(0,m.jsx)(d.b7,{xs:12,children:(0,m.jsx)(d.jO,{label:"Title",placeholder:"",onChange:pe,defaultValue:ie.title,onKeyUp:ve,type:"text"})}),ne.title&&(0,m.jsx)("p",{className:"text-danger",children:ne.title}),(0,m.jsx)(d.b7,{xs:12,children:(0,m.jsx)(d.jO,{label:"Image",placeholder:"",onChange:he,type:"file"})})]}),(0,m.jsxs)(d.Ym,{children:[(0,m.jsx)(d.u5,{color:"secondary",onClick:function(){return H(!1)},children:"Close"}),(0,m.jsx)(d.u5,{color:"primary",onClick:function(){return ke(ie.id)},children:"Submit"})]})]}),(0,m.jsx)(d.rb,{children:(0,m.jsx)(d.b7,{xs:12,children:(0,m.jsxs)(d.xH,{className:"mb-4",children:[(0,m.jsx)(d.bn,{children:(0,m.jsx)(d.KB,{children:(0,m.jsxs)(d.rb,{className:"align-items-end",children:[(0,m.jsx)(d.b7,{children:(0,m.jsx)("strong",{children:"Account Table"})}),(0,m.jsx)(d.b7,{children:(0,m.jsx)(d.lx,{})}),(0,m.jsx)(d.b7,{children:(0,m.jsx)(d.lx,{})}),(0,m.jsx)(d.b7,{children:(0,m.jsx)(d.LX,{"aria-label":"Default select example",onChange:function(e){de(e.target.value)},options:["State",{label:"Active",value:"1"},{label:"Block",value:"0"}]})}),(0,m.jsx)(d.b7,{children:(0,m.jsx)(d.u5,{color:"success",variant:"outline",onClick:xe,children:"Search"})})]})})}),(0,m.jsx)(d.sl,{children:null!==Z&&void 0!==Z&&null!==(e=Z.data)&&void 0!==e&&null!==(t=e.res)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data?0===(null===Z||void 0===Z||null===(c=Z.data)||void 0===c||null===(p=c.res)||void 0===p||null===(v=p.data)||void 0===v?void 0:v.total)?(0,m.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,m.jsx)(o.Z,{style:{color:"#ccc",fontSize:50,margin:20}}),(0,m.jsx)("p",{style:{width:"100%",display:"flex",justifyContent:"center"},children:"No data"})]}):(0,m.jsxs)(d.Sx,{children:[(0,m.jsx)(d.V,{children:(0,m.jsxs)(d.T6,{children:[(0,m.jsx)(d.is,{scope:"col",children:"#"}),(0,m.jsx)(d.is,{scope:"col",children:"Title"}),(0,m.jsx)(d.is,{scope:"col",children:"Image"}),(0,m.jsx)(d.is,{scope:"col",children:"Status"}),(0,m.jsx)(d.is,{scope:"col",children:"Action"})]})}),(0,m.jsx)(d.NR,{children:null===Z||void 0===Z||null===(b=Z.data)||void 0===b||null===(y=b.res)||void 0===y||null===(w=y.data)||void 0===w?void 0:w.data.map((function(e,t){return(0,m.jsxs)(d.T6,{children:[(0,m.jsx)(d.NN,{scope:"row",children:t}),(0,m.jsx)(d.NN,{scope:"row",children:e.title}),(0,m.jsx)(d.NN,{colSpan:"row",children:(0,m.jsx)(d.DW,{src:"".concat("https://api.staging.bingo.family").concat(e.image),alt:"img",height:150,width:150})}),(0,m.jsx)(d.NN,{children:e.status?"Active":"Block"}),(0,m.jsxs)(d.NN,{children:[(0,m.jsx)("svg",{onClick:function(){return we(e.id)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:28,width:28,style:{cursor:"pointer"},children:(0,m.jsx)("path",{d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),(0,m.jsx)("svg",{onClick:function(){return Ze(e.id)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:30,width:30,style:{cursor:"pointer"},children:(0,m.jsx)("path",{d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"})})]})]},e.id)}))})]}):(0,m.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,m.jsx)(u.Z,{style:{color:"#ccc",fontSize:50,margin:20}}),(0,m.jsx)("p",{style:{width:"100%",display:"flex",justifyContent:"center"},children:"Loading..."})]})})]})})}),(0,m.jsx)(h(),{previousLabel:"< Previous",nextLabel:"Next >",breakLabel:"...",pageCount:A,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:ge,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}}}]);
//# sourceMappingURL=9323.d08a4936.chunk.js.map