"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9448],{19448:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(70885),s=n(74165),a=n(15861),i=n(72791),c=n(74569),l=n.n(c),o=n(21830),u=n.n(o),d=n(78983),p=(n(96048),n(80184)),h=localStorage.getItem("token_key"),f=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"Get",url:"".concat("https://api.staging.bingo.family","/api/admin/sys"),headers:{Authorization:"Bearer ".concat(h)}});case 3:return t=e.sent,e.abrupt("return",t.data.res.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=new FormData,x=function(){var e=(0,i.useState)([]),t=(0,r.Z)(e,2),n=t[0],c=t[1],o=(0,i.useState)([]),x=(0,r.Z)(o,2),j=x[0],g=x[1],b=(0,i.useState)(""),v=(0,r.Z)(b,2),y=v[0],_=v[1],k=(0,i.useState)(""),N=(0,r.Z)(k,2),Z=N[0],w=N[1],C=(0,i.useState)(""),S=(0,r.Z)(C,2),O=S[0],T=S[1];(0,i.useEffect)((function(){function e(){return e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,c(t.history_version),g(t.sys),_(t.title),w(t.version),T(t.maintainContent);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return(0,p.jsxs)("div",{children:[(0,p.jsxs)(d.lx,{className:"form_system",children:[(0,p.jsx)(d.b7,{sm:12,className:"d-flex align-items-center",children:(0,p.jsx)(d.jO,{label:"Title",type:"text",defaultValue:"undefined"===j.title?"":j.title,onChange:function(e){_(e.target.value)}})}),(0,p.jsx)(d.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,p.jsx)(d.jO,{label:"Version",type:"text",defaultValue:j.version,onChange:function(e){w(e.target.value)}})}),(0,p.jsx)(d.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,p.jsx)(d.jO,{label:"Image",type:"file",defaultValue:j.maintainContent,onChange:function(e){T(e.target.files[0])}})}),"undefined"===j.maintain_content?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.b7,{sm:12,className:"mt-4 system_img",children:(0,p.jsx)(d.DW,{rounded:!0,src:j.maintain_content,alt:"Image",width:200,height:200})})}),(0,p.jsx)(d.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,p.jsx)(d.jO,{label:"File Apk",type:"file",onChange:function(e){return m.append("apk",e.target.files[0])}})}),(0,p.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,p.jsx)(d.u5,{onClick:function(e){e.preventDefault(),m.append("title",y),m.append("version",Z),m.append("maintain_content",O),l()({method:"Post",url:"".concat("https://api.staging.bingo.family","/api/admin/sys/update"),data:m,headers:{Authorization:"Bearer ".concat(h),"Content-Type":"multipart/form-data"}}).then(function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,f();case 3:if(n=e.sent,g(n),200!==t.data.status){e.next=9;break}return e.abrupt("return",u().fire({title:"Success",text:t.data.success,icon:"success",confirmButtonText:"OK"}));case 9:return e.abrupt("return",u().fire({title:"Error",text:t.data.error,icon:"error",confirmButtonText:"OK"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},className:"btn_update",type:"submit",children:"Submit"})})]}),(0,p.jsx)("br",{}),(0,p.jsx)(d.bn,{children:(0,p.jsx)("h3",{children:"L\u1ecbch s\u1eed version"})}),(0,p.jsx)(d.sD,{children:(0,p.jsx)(d.rb,{children:(0,p.jsx)(d.b7,{children:(0,p.jsx)(d.xH,{children:(0,p.jsx)(d.sl,{children:(0,p.jsxs)(d.Sx,{children:[(0,p.jsx)(d.V,{children:(0,p.jsxs)(d.T6,{children:[(0,p.jsx)(d.is,{scope:"col",children:"#"}),(0,p.jsx)(d.is,{scope:"col",children:"Version"}),(0,p.jsx)(d.is,{scope:"col",children:"Apk"})]})}),(0,p.jsx)(d.NR,{children:n.map((function(e,t){return(0,p.jsxs)(d.T6,{children:[(0,p.jsx)(d.NN,{scope:"row",children:t}),(0,p.jsx)(d.NN,{scope:"row",children:e.title}),(0,p.jsx)(d.NN,{children:e.apk})]},e.id)}))})]})})})})})})]})}}}]);
//# sourceMappingURL=9448.ff25e2ba.chunk.js.map