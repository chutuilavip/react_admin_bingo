"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9448],{19448:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(70885),r=n(74165),s=n(15861),i=n(72791),c=n(74569),u=n.n(c),o=n(21830),l=n.n(o),f=n(78983),m=n(80184),p=localStorage.getItem("token_key"),d=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"Get",url:"".concat("http://api.play.bingo.family","/api/admin/sys"),headers:{Authorization:"Bearer ".concat(p)}});case 3:return t=e.sent,e.abrupt("return",t.data.res.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=new FormData,x=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],o=(0,i.useState)(""),x=(0,a.Z)(o,2),g=x[0],b=x[1],j=(0,i.useState)(""),y=(0,a.Z)(j,2),v=y[0],_=y[1],k=(0,i.useState)(""),Z=(0,a.Z)(k,2),w=Z[0],C=Z[1];(0,i.useEffect)((function(){function e(){return e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,c(t),b(t.title),_(t.version),C(t.maintainContent);case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return(0,m.jsxs)(f.lx,{className:"form_system",children:[(0,m.jsx)(f.b7,{sm:12,className:"d-flex align-items-center",children:(0,m.jsx)(f.jO,{label:"Title",type:"text",defaultValue:n.title,onChange:function(e){b(e.target.value)}})}),(0,m.jsx)(f.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,m.jsx)(f.jO,{label:"Version",type:"text",defaultValue:n.version,onChange:function(e){_(e.target.value)}})}),(0,m.jsx)(f.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,m.jsx)(f.jO,{label:"Image",type:"file",defaultValue:n.maintainContent,onChange:function(e){C(e.target.files[0])}})}),"undefined"===n.maintain_content?(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(f.b7,{sm:12,className:"mt-4 system_img",children:(0,m.jsx)(f.DW,{rounded:!0,src:n.maintain_content,alt:"Image",width:200,height:200})})}),(0,m.jsx)(f.b7,{sm:12,className:"d-flex align-items-center mt-4",children:(0,m.jsx)(f.jO,{label:"File Apk",type:"file",onChange:function(e){return h.append("apk",e.target.files[0])}})}),(0,m.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,m.jsx)(f.u5,{onClick:function(e){e.preventDefault(),h.append("title",g),h.append("version",v),h.append("maintain_content",w),u()({method:"Post",url:"".concat("http://api.play.bingo.family","/api/admin/sys/update"),data:h,headers:{Authorization:"Bearer ".concat(p),"Content-Type":"multipart/form-data"}}).then(function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,d();case 3:if(n=e.sent,c(n),200!==t.data.status){e.next=9;break}return e.abrupt("return",l().fire({title:"Success",text:t.data.success,icon:"success",confirmButtonText:"OK"}));case 9:return e.abrupt("return",l().fire({title:"Error",text:t.data.error,icon:"error",confirmButtonText:"OK"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},className:"btn_update",type:"submit",children:"Submit"})})]})}}}]);
//# sourceMappingURL=9448.2fd0b430.chunk.js.map